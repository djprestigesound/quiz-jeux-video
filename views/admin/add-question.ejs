<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Ajouter une question - Admin Quiz</title>
  <link rel="stylesheet" href="/css/style.css">
</head>
<body>
  <div class="admin-layout">
    <%- include('partials/nav') %>

    <div class="admin-content">
      <div class="page-header">
        <h1>➕ Ajouter une question</h1>
      </div>

      <% if (error) { %>
        <div class="alert alert-error"><%= error %></div>
      <% } %>

      <form action="/admin/questions/add" method="POST" class="question-form">
        <div class="form-group">
          <label for="question">Question *</label>
          <textarea
            id="question"
            name="question"
            rows="3"
            placeholder="Entrez votre question"
            required
          ></textarea>
        </div>

        <div class="form-row">
          <div class="form-group">
            <label for="option_a">Réponse A *</label>
            <input type="text" id="option_a" name="option_a" required>
          </div>

          <div class="form-group">
            <label for="option_b">Réponse B *</label>
            <input type="text" id="option_b" name="option_b" required>
          </div>
        </div>

        <div class="form-row">
          <div class="form-group">
            <label for="option_c">Réponse C *</label>
            <input type="text" id="option_c" name="option_c" required>
          </div>

          <div class="form-group">
            <label for="option_d">Réponse D *</label>
            <input type="text" id="option_d" name="option_d" required>
          </div>
        </div>

        <div class="form-row">
          <div class="form-group">
            <label for="correct_answer">Bonne réponse *</label>
            <select id="correct_answer" name="correct_answer" required>
              <option value="">Choisir...</option>
              <option value="A">A</option>
              <option value="B">B</option>
              <option value="C">C</option>
              <option value="D">D</option>
            </select>
          </div>

          <div class="form-group">
            <label for="category">Catégorie *</label>
            <input
              type="text"
              id="category"
              name="category"
              list="categories"
              placeholder="Ex: Personnages, Aventure..."
              required
            >
            <datalist id="categories">
              <% categories.forEach(cat => { %>
                <option value="<%= cat.category %>">
              <% }); %>
            </datalist>
          </div>

          <div class="form-group">
            <label for="difficulty">Difficulté</label>
            <select id="difficulty" name="difficulty">
              <option value="easy">Facile</option>
              <option value="medium" selected>Moyen</option>
              <option value="hard">Difficile</option>
            </select>
          </div>
        </div>

        <div class="form-actions">
          <button type="submit" class="btn btn-primary">Ajouter la question</button>
          <a href="/admin/questions" class="btn btn-secondary">Annuler</a>
        </div>
      </form>
    </div>
  </div>
</body>
</html>
