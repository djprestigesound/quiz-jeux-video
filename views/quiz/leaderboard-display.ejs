<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>üèÜ Classement en Direct - Quiz Jeux Vid√©o</title>
  <link rel="stylesheet" href="/css/style.css">
  <link href="https://fonts.googleapis.com/css2?family=Orbitron:wght@400;700;900&family=Exo+2:wght@300;400;600;700;800&display=swap" rel="stylesheet">
</head>
<body style="margin: 0; padding: 0; background: #0A0E27; overflow: hidden; font-family: 'Exo 2', sans-serif;">

  <!-- Background anim√© -->
  <div class="animated-bg">
    <div class="grid-overlay"></div>
    <div class="glow-orb orb-1"></div>
    <div class="glow-orb orb-2"></div>
    <div class="glow-orb orb-3"></div>
  </div>

  <!-- Header avec effet n√©on -->
  <div class="header-display">
    <div class="brand-container">
      <img src="/images/branding/logo.png" alt="VERDON" class="brand-logo logo-glow">
      <span class="collab-sep">&</span>
      <img src="/images/branding/dj_logo.jpg" alt="DJ Prestige Sound" class="brand-logo logo-glow">
    </div>
    <h1 class="title-neon">
      <span class="trophy-icon">üèÜ</span>
      CLASSEMENT EN DIRECT
      <span class="trophy-icon">üèÜ</span>
    </h1>
  </div>

  <!-- 3 colonnes avec effet glassmorphism -->
  <div class="leaderboard-grid">

    <!-- Quiz 1: Classiques -->
    <div class="quiz-column quiz-pink">
      <div class="quiz-header">
        <div class="quiz-icon">üïπÔ∏è</div>
        <h2 class="quiz-title">CLASSIQUES</h2>
        <div class="header-glow pink-glow"></div>
      </div>

      <div class="players-container">
        <% if (leaderboardQuiz1.length === 0) { %>
          <div class="empty-state">
            <div class="empty-icon">üéÆ</div>
            <p>En attente de joueurs...</p>
          </div>
        <% } else { %>
          <% leaderboardQuiz1.forEach((entry, index) => { %>
            <div class="player-card rank-<%= index + 1 %>" style="animation-delay: <%= index * 0.1 %>s;">
              <div class="rank-display rank-style-<%= index < 3 ? index + 1 : 'default' %>">
                <% if (index === 0) { %>
                  <span class="rank-medal gold-medal">ü•á</span>
                <% } else if (index === 1) { %>
                  <span class="rank-medal silver-medal">ü•à</span>
                <% } else if (index === 2) { %>
                  <span class="rank-medal bronze-medal">ü•â</span>
                <% } else { %>
                  <span class="rank-number">#<%= index + 1 %></span>
                <% } %>
              </div>

              <div class="player-details">
                <div class="player-name"><%= entry.player_name %></div>
                <div class="player-accuracy">
                  <span class="accuracy-icon">üéØ</span>
                  <%= entry.correct_answers %>/<%= entry.total_questions %>
                </div>
              </div>

              <div class="score-badge pink-badge">
                <span class="score-value"><%= entry.score %></span>
                <div class="score-glow"></div>
              </div>
            </div>
          <% }); %>
        <% } %>
      </div>
    </div>

    <!-- Quiz 2: Modernes -->
    <div class="quiz-column quiz-blue">
      <div class="quiz-header">
        <div class="quiz-icon">üéÆ</div>
        <h2 class="quiz-title">MODERNES</h2>
        <div class="header-glow blue-glow"></div>
      </div>

      <div class="players-container">
        <% if (leaderboardQuiz2.length === 0) { %>
          <div class="empty-state">
            <div class="empty-icon">üéÆ</div>
            <p>En attente de joueurs...</p>
          </div>
        <% } else { %>
          <% leaderboardQuiz2.forEach((entry, index) => { %>
            <div class="player-card rank-<%= index + 1 %>" style="animation-delay: <%= index * 0.1 %>s;">
              <div class="rank-display rank-style-<%= index < 3 ? index + 1 : 'default' %>">
                <% if (index === 0) { %>
                  <span class="rank-medal gold-medal">ü•á</span>
                <% } else if (index === 1) { %>
                  <span class="rank-medal silver-medal">ü•à</span>
                <% } else if (index === 2) { %>
                  <span class="rank-medal bronze-medal">ü•â</span>
                <% } else { %>
                  <span class="rank-number">#<%= index + 1 %></span>
                <% } %>
              </div>

              <div class="player-details">
                <div class="player-name"><%= entry.player_name %></div>
                <div class="player-accuracy">
                  <span class="accuracy-icon">üéØ</span>
                  <%= entry.correct_answers %>/<%= entry.total_questions %>
                </div>
              </div>

              <div class="score-badge blue-badge">
                <span class="score-value"><%= entry.score %></span>
                <div class="score-glow"></div>
              </div>
            </div>
          <% }); %>
        <% } %>
      </div>
    </div>

    <!-- Quiz 3: Culture -->
    <div class="quiz-column quiz-gold">
      <div class="quiz-header">
        <div class="quiz-icon">üèÜ</div>
        <h2 class="quiz-title">CULTURE</h2>
        <div class="header-glow gold-glow"></div>
      </div>

      <div class="players-container">
        <% if (leaderboardQuiz3.length === 0) { %>
          <div class="empty-state">
            <div class="empty-icon">üéÆ</div>
            <p>En attente de joueurs...</p>
          </div>
        <% } else { %>
          <% leaderboardQuiz3.forEach((entry, index) => { %>
            <div class="player-card rank-<%= index + 1 %>" style="animation-delay: <%= index * 0.1 %>s;">
              <div class="rank-display rank-style-<%= index < 3 ? index + 1 : 'default' %>">
                <% if (index === 0) { %>
                  <span class="rank-medal gold-medal">ü•á</span>
                <% } else if (index === 1) { %>
                  <span class="rank-medal silver-medal">ü•à</span>
                <% } else if (index === 2) { %>
                  <span class="rank-medal bronze-medal">ü•â</span>
                <% } else { %>
                  <span class="rank-number">#<%= index + 1 %></span>
                <% } %>
              </div>

              <div class="player-details">
                <div class="player-name"><%= entry.player_name %></div>
                <div class="player-accuracy">
                  <span class="accuracy-icon">üéØ</span>
                  <%= entry.correct_answers %>/<%= entry.total_questions %>
                </div>
              </div>

              <div class="score-badge gold-badge">
                <span class="score-value"><%= entry.score %></span>
                <div class="score-glow"></div>
              </div>
            </div>
          <% }); %>
        <% } %>
      </div>
    </div>

  </div>

  <!-- Footer avec effet glassmorphism -->
  <div class="footer-display">
    <div class="footer-content">
      <div class="refresh-indicator">
        <span class="pulse-dot"></span>
        <span class="refresh-text">MISE √Ä JOUR TOUTES LES 3 SECONDES</span>
      </div>
      <% if (activePlayers && activePlayers.length > 0) { %>
        <div class="active-players-badge">
          <span class="players-icon">üéÆ</span>
          <span class="players-count"><%= activePlayers.length %></span>
          <span class="players-text">EN JEU</span>
        </div>
      <% } %>
    </div>
  </div>

  <style>
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }

    /* Background anim√© */
    .animated-bg {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      z-index: 0;
      overflow: hidden;
    }

    .grid-overlay {
      position: absolute;
      width: 100%;
      height: 100%;
      background-image:
        linear-gradient(rgba(255, 0, 110, 0.03) 1px, transparent 1px),
        linear-gradient(90deg, rgba(255, 0, 110, 0.03) 1px, transparent 1px);
      background-size: 50px 50px;
      animation: gridMove 20s linear infinite;
    }

    @keyframes gridMove {
      0% { transform: translate(0, 0); }
      100% { transform: translate(50px, 50px); }
    }

    .glow-orb {
      position: absolute;
      border-radius: 50%;
      filter: blur(100px);
      opacity: 0.3;
      animation: float 20s ease-in-out infinite;
    }

    .orb-1 {
      width: 400px;
      height: 400px;
      background: radial-gradient(circle, #FF006E, transparent);
      top: -200px;
      left: 10%;
      animation-delay: 0s;
    }

    .orb-2 {
      width: 500px;
      height: 500px;
      background: radial-gradient(circle, #6366F1, transparent);
      bottom: -250px;
      right: 15%;
      animation-delay: 7s;
    }

    .orb-3 {
      width: 350px;
      height: 350px;
      background: radial-gradient(circle, #FBBF24, transparent);
      top: 50%;
      left: 50%;
      animation-delay: 14s;
    }

    @keyframes float {
      0%, 100% { transform: translate(0, 0) scale(1); }
      33% { transform: translate(50px, -50px) scale(1.1); }
      66% { transform: translate(-50px, 50px) scale(0.9); }
    }

    /* Header */
    .header-display {
      position: relative;
      z-index: 10;
      text-align: center;
      padding: 15px 20px;
      background: rgba(10, 14, 39, 0.7);
      backdrop-filter: blur(20px);
      border-bottom: 2px solid rgba(255, 0, 110, 0.3);
      box-shadow: 0 10px 40px rgba(255, 0, 110, 0.2);
    }

    .brand-container {
      display: flex;
      align-items: center;
      justify-content: center;
      gap: 20px;
      margin-bottom: 8px;
    }

    .brand-logo {
      height: 40px;
      border-radius: 10px;
      filter: drop-shadow(0 0 20px rgba(255, 0, 110, 0.5));
      animation: logoGlow 3s ease-in-out infinite;
    }

    @keyframes logoGlow {
      0%, 100% { filter: drop-shadow(0 0 20px rgba(255, 0, 110, 0.5)); }
      50% { filter: drop-shadow(0 0 30px rgba(255, 0, 110, 0.8)); }
    }

    .collab-sep {
      color: #FF006E;
      font-size: 2rem;
      font-weight: 800;
    }

    .title-neon {
      font-family: 'Orbitron', sans-serif;
      font-size: 2.2rem;
      font-weight: 900;
      background: linear-gradient(90deg, #FF006E, #FBBF24, #6366F1, #FF006E);
      background-size: 300% 300%;
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
      animation: gradientShift 5s ease infinite;
      text-shadow: 0 0 40px rgba(255, 0, 110, 0.5);
      letter-spacing: 3px;
    }

    @keyframes gradientShift {
      0%, 100% { background-position: 0% 50%; }
      50% { background-position: 100% 50%; }
    }

    .trophy-icon {
      display: inline-block;
      animation: bounce 2s ease-in-out infinite;
    }

    @keyframes bounce {
      0%, 100% { transform: translateY(0) scale(1); }
      50% { transform: translateY(-10px) scale(1.1); }
    }

    /* Grid des quiz */
    .leaderboard-grid {
      position: relative;
      z-index: 5;
      display: grid;
      grid-template-columns: repeat(3, 1fr);
      gap: 15px;
      padding: 10px 15px;
      height: calc(100vh - 170px);
    }

    .quiz-column {
      display: flex;
      flex-direction: column;
      background: rgba(15, 23, 42, 0.6);
      backdrop-filter: blur(20px);
      border-radius: 20px;
      border: 2px solid rgba(255, 255, 255, 0.1);
      overflow: hidden;
      position: relative;
      box-shadow: 0 20px 60px rgba(0, 0, 0, 0.4);
      transition: transform 0.3s ease;
    }

    .quiz-column:hover {
      transform: translateY(-5px);
    }

    .quiz-header {
      position: relative;
      padding: 15px;
      text-align: center;
      background: rgba(0, 0, 0, 0.3);
      border-bottom: 2px solid rgba(255, 255, 255, 0.1);
    }

    .header-glow {
      position: absolute;
      bottom: 0;
      left: 0;
      width: 100%;
      height: 3px;
      animation: glowPulse 2s ease-in-out infinite;
    }

    .pink-glow { background: linear-gradient(90deg, transparent, #FF006E, transparent); }
    .blue-glow { background: linear-gradient(90deg, transparent, #6366F1, transparent); }
    .gold-glow { background: linear-gradient(90deg, transparent, #FBBF24, transparent); }

    @keyframes glowPulse {
      0%, 100% { opacity: 0.5; transform: scaleX(0.8); }
      50% { opacity: 1; transform: scaleX(1); }
    }

    .quiz-icon {
      font-size: 2.5rem;
      margin-bottom: 5px;
      animation: rotate3d 5s linear infinite;
    }

    @keyframes rotate3d {
      0%, 100% { transform: rotateY(0deg); }
      50% { transform: rotateY(180deg); }
    }

    .quiz-title {
      font-family: 'Orbitron', sans-serif;
      font-size: 1.8rem;
      font-weight: 900;
      letter-spacing: 2px;
      margin: 0;
    }

    .quiz-pink .quiz-title { color: #FF006E; text-shadow: 0 0 20px rgba(255, 0, 110, 0.5); }
    .quiz-blue .quiz-title { color: #6366F1; text-shadow: 0 0 20px rgba(99, 102, 241, 0.5); }
    .quiz-gold .quiz-title { color: #FBBF24; text-shadow: 0 0 20px rgba(251, 191, 36, 0.5); }

    /* Players container */
    .players-container {
      flex: 1;
      overflow-y: auto;
      padding: 15px;
      scrollbar-width: thin;
    }

    .players-container::-webkit-scrollbar {
      width: 6px;
    }

    .players-container::-webkit-scrollbar-track {
      background: rgba(255, 255, 255, 0.05);
      border-radius: 10px;
    }

    .players-container::-webkit-scrollbar-thumb {
      background: rgba(255, 0, 110, 0.5);
      border-radius: 10px;
    }

    /* Player cards */
    .player-card {
      display: flex;
      align-items: center;
      gap: 12px;
      padding: 12px;
      margin-bottom: 10px;
      background: rgba(30, 41, 59, 0.5);
      backdrop-filter: blur(10px);
      border-radius: 15px;
      border: 1px solid rgba(255, 255, 255, 0.1);
      transition: all 0.3s ease;
      animation: slideIn 0.5s ease forwards;
      opacity: 0;
      position: relative;
      overflow: hidden;
    }

    @keyframes slideIn {
      from {
        opacity: 0;
        transform: translateX(-30px);
      }
      to {
        opacity: 1;
        transform: translateX(0);
      }
    }

    .player-card:hover {
      transform: translateX(5px) scale(1.02);
      border-color: rgba(255, 0, 110, 0.5);
      box-shadow: 0 10px 30px rgba(255, 0, 110, 0.3);
    }

    .player-card.rank-1 {
      background: linear-gradient(135deg, rgba(255, 215, 0, 0.2), rgba(30, 41, 59, 0.5));
      border: 2px solid rgba(255, 215, 0, 0.5);
      box-shadow: 0 0 30px rgba(255, 215, 0, 0.3);
    }

    .player-card.rank-2 {
      background: linear-gradient(135deg, rgba(192, 192, 192, 0.2), rgba(30, 41, 59, 0.5));
      border: 2px solid rgba(192, 192, 192, 0.5);
    }

    .player-card.rank-3 {
      background: linear-gradient(135deg, rgba(205, 127, 50, 0.2), rgba(30, 41, 59, 0.5));
      border: 2px solid rgba(205, 127, 50, 0.5);
    }

    .rank-display {
      min-width: 50px;
      text-align: center;
      font-size: 2rem;
    }

    .rank-medal {
      display: inline-block;
      font-size: 2.5rem;
      animation: medalSpin 3s ease-in-out infinite;
    }

    @keyframes medalSpin {
      0%, 100% { transform: rotate(0deg) scale(1); }
      25% { transform: rotate(-15deg) scale(1.1); }
      75% { transform: rotate(15deg) scale(1.1); }
    }

    .rank-number {
      font-family: 'Orbitron', sans-serif;
      font-weight: 700;
      font-size: 1.5rem;
      color: rgba(255, 255, 255, 0.6);
    }

    .player-details {
      flex: 1;
      min-width: 0;
    }

    .player-name {
      font-size: 2rem;
      font-weight: 800;
      color: #FFFFFF;
      white-space: nowrap;
      overflow: hidden;
      text-overflow: ellipsis;
      text-shadow: 0 2px 10px rgba(0, 0, 0, 0.5);
    }

    .player-accuracy {
      display: flex;
      align-items: center;
      gap: 5px;
      font-size: 1.1rem;
      color: rgba(255, 255, 255, 0.7);
      margin-top: 5px;
    }

    .accuracy-icon {
      font-size: 1rem;
    }

    /* Score badge */
    .score-badge {
      position: relative;
      min-width: 70px;
      padding: 10px 15px;
      border-radius: 12px;
      text-align: center;
      font-family: 'Orbitron', sans-serif;
      font-weight: 900;
      font-size: 1.3rem;
      overflow: hidden;
    }

    .score-glow {
      position: absolute;
      top: 0;
      left: -100%;
      width: 100%;
      height: 100%;
      background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.3), transparent);
      animation: shine 3s infinite;
    }

    @keyframes shine {
      0% { left: -100%; }
      50%, 100% { left: 100%; }
    }

    .pink-badge {
      background: linear-gradient(135deg, #FF006E, #C70055);
      box-shadow: 0 0 20px rgba(255, 0, 110, 0.6);
    }

    .blue-badge {
      background: linear-gradient(135deg, #6366F1, #4F46E5);
      box-shadow: 0 0 20px rgba(99, 102, 241, 0.6);
    }

    .gold-badge {
      background: linear-gradient(135deg, #FBBF24, #F59E0B);
      box-shadow: 0 0 20px rgba(251, 191, 36, 0.6);
    }

    .score-value {
      position: relative;
      z-index: 1;
      color: #FFFFFF;
      text-shadow: 0 2px 10px rgba(0, 0, 0, 0.5);
    }

    /* Empty state */
    .empty-state {
      text-align: center;
      padding: 80px 20px;
      color: rgba(255, 255, 255, 0.5);
    }

    .empty-icon {
      font-size: 5rem;
      margin-bottom: 20px;
      opacity: 0.3;
      animation: float 3s ease-in-out infinite;
    }

    .empty-state p {
      font-size: 1.2rem;
    }

    /* Footer */
    .footer-display {
      position: relative;
      z-index: 10;
      background: rgba(10, 14, 39, 0.95);
      backdrop-filter: blur(20px);
      border-top: 3px solid rgba(255, 0, 110, 0.6);
      padding: 12px 30px;
      box-shadow: 0 -10px 40px rgba(255, 0, 110, 0.3);
    }

    .footer-content {
      display: flex;
      align-items: center;
      justify-content: space-between;
    }

    .refresh-indicator {
      display: flex;
      align-items: center;
      gap: 10px;
    }

    .pulse-dot {
      display: inline-block;
      width: 12px;
      height: 12px;
      background: #FF006E;
      border-radius: 50%;
      box-shadow: 0 0 20px rgba(255, 0, 110, 0.8);
      animation: pulse 1.5s ease-in-out infinite;
    }

    @keyframes pulse {
      0%, 100% {
        transform: scale(1);
        opacity: 1;
      }
      50% {
        transform: scale(1.3);
        opacity: 0.7;
      }
    }

    .refresh-text {
      font-family: 'Orbitron', sans-serif;
      font-size: 1rem;
      font-weight: 700;
      color: rgba(255, 255, 255, 0.9);
      letter-spacing: 1px;
    }

    .active-players-badge {
      display: flex;
      align-items: center;
      gap: 10px;
      padding: 8px 20px;
      background: linear-gradient(135deg, rgba(255, 0, 110, 0.3), rgba(99, 102, 241, 0.3));
      border-radius: 25px;
      border: 2px solid rgba(255, 0, 110, 0.5);
      animation: badgePulse 2s ease-in-out infinite;
    }

    @keyframes badgePulse {
      0%, 100% { box-shadow: 0 0 20px rgba(255, 0, 110, 0.4); }
      50% { box-shadow: 0 0 30px rgba(255, 0, 110, 0.7); }
    }

    .players-icon {
      font-size: 1.5rem;
      animation: bounce 2s ease-in-out infinite;
    }

    .players-count {
      font-family: 'Orbitron', sans-serif;
      font-size: 2rem;
      font-weight: 900;
      color: #FF006E;
      text-shadow: 0 0 10px rgba(255, 0, 110, 0.8);
    }

    .players-text {
      font-family: 'Orbitron', sans-serif;
      font-size: 1.1rem;
      font-weight: 700;
      color: rgba(255, 255, 255, 0.9);
      letter-spacing: 1px;
    }
  </style>

  <script>
    // Auto-refresh toutes les 3 secondes
    setInterval(() => {
      window.location.reload();
    }, 3000);

    // Emp√™cher le zoom
    document.addEventListener('dblclick', (e) => e.preventDefault());
  </script>
</body>
</html>
